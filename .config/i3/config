# i3 options
set $mod Mod4
font pango: Monoid 6
floating_modifier $mod
new_window normal 1
new_float pixel 1
hide_edge_borders both
workspace_auto_back_and_forth yes
default_orientation vertical
# title_align center
# new_window none
# new_float normal 2

# wm binds    
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10
bindsym $mod+Return exec --no-startup-id terminator -l KJ -T "terminal"
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+q kill
bindsym $mod+Ctrl+Left focus left
bindsym $mod+Ctrl+Down focus down
bindsym $mod+Ctrl+Up focus up
bindsym $mod+Ctrl+Right focus right
bindsym $mod+Left workspace prev
bindsym $mod+Right workspace next

bindsym $mod+Tab workspace back_and_forth
bindsym $mod+Shift+Tab workspace next
# bindsym $mod+Tab workspace next
# bindsym $mod+Shift+Tab workspace prev

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right
bindsym $mod+h split h
bindsym $mod+v split v
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+space floating toggle
bindsym Mod1+Tab focus mode_toggle
bindsym $mod+s sticky toggle
# bindsym $mod+a focus parent
# bindsym $mod+d focus child

# app binds
bindsym $mod+j bar mode hide
bindsym $mod+k bar mode dock
bindsym $mod+q exec --no-startup-id thunar
bindsym $mod+F1 exec --no-startup-id google-chrome
bindsym $mod+F2 exec --no-startup-id subl
bindsym $mod+F3 exec --no-startup-id terminator
bindsym $mod+F10 exec --no-startup-id gnome-system-monitor
bindsym $mod+F11 exec --no-startup-id pavucontrol
bindsym $mod+F12 exec --no-startup-id vlc
bindsym $mod+space scratchpad show
bindsym $mod+Shift+minus move scratchpad
bindsym Print exec --no-startup-id "scrot -e 'mv $f /home/jc/Pictures/screenshots'"
bindsym $mod+Print exec --no-startup-id "scrot -ue 'mv $f /home/jc/Pictures/screenshots'"
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle
bindsym XF86MonBrightnessUp exec --no-startup-id light -A 2
bindsym XF86MonBrightnessDown exec --no-startup-id light -U 2
bindsym XF86TouchpadToggle exec $HOME/.config/i3/scripts/toggletouchpad.sh
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
bindsym $mod+d exec --no-startup-id rofi -show run -lines 8 -width 25
bindsym $mod+x exec $HOME/.config/i3/scripts/powermenu.sh
bindsym $mod+w exec cat /usr/share/dict/american-english | rofi -dmenu -i -p "" -width 20 -lines 6 -matching regex | xargs -I{} xdg-open https://www.linguee.com/english-spanish/search\?source\=auto\&query\=\{\}
bindsym $mod+g exec rofi -dmenu -i -p "" -width 20 -lines 0 | xargs -I{} xdg-open https://www.google.com/search\?q\=\{\}
bindsym $mod+n exec $HOME/.config/i3/scripts/rofi_notes.sh
bindsym $mod+p exec --no-startup-id rofi -modi ":$HOME/.config/i3/scripts/rofi_file_browser.sh" -show "" -width 25 -lines 10 -kb-custom-1 "Alt+Return"
bindsym $mod+z exec $HOME/.config/i3/scripts/fakeworker.sh
bindsym $mod+c exec $HOME/.config/i3/scripts/=.sh
# bindsym $mod+F3 exec --no-startup-id alacritty
# idea experimental: historial de firefox en rofi
# basado en https://askubuntu.com/questions/412844/can-i-view-firefox-history-with-the-terminal
# sqlite3 $HOME/.mozilla/firefox/tjaxh5ay.default/places.sqlite "select title, url from moz_places;" > dd

# resize mode
bindsym $mod+r mode "resize"
mode "resize" {
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

# layout mode
bindsym $mod+l mode "layout"
mode "layout" {
    bindsym 1 layout stacking; mode "default"
    bindsym 2 layout tabbed; mode "default"
    bindsym 3 layout toggle split; mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# border mode
bindsym $mod+b mode "border"
mode "border" {
    bindsym 1 border pixel 1; mode "default"
    bindsym 2 border normal 1; mode "default"
    bindsym 3 border none; mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# i3bar
bar {
    # mode hide
    status_command i3blocks -c /home/jc/.config/i3/i3blocks.conf
    font pango: Fantasque Sans Mono 9
    position bottom
    strip_workspace_numbers yes
}

# default workspaces
# assign [class="Alacritty"] $ws4
# assign [class="QtCreator"] $ws9
# assign [class="Firefox"] $ws2
# assign [class="Code"] $ws3
# assign [class="Terminator"] $ws4
# assign [class="Processing"] $ws9
# assign [class="PdWindow"] $ws8
# assign [class="PatchWindow"] $ws8
assign [class="Audacity"] $ws8
assign [class="Thunar" title="File Operation Progress"] $ws10

# border colors:        border: bg:     text:   indicator:
client.focused          #636e72 #636e72 #f3f4f5 #523445
client.focused_inactive #636e72 #636e72 #b2bec3 #49483E
client.unfocused        #636e72 #636e72 #b2bec3 #000000
client.urgent           #E53935 #E53935 #f3f4f5 #58252B

# setup executables
exec_always --no-startup-id xrandr --output LVDS-1-1 --brightness 0.9
# --bg-scale
exec_always --no-startup-id feh --bg-fill "$HOME/Pictures/wallpapers/$(ls $HOME/Pictures/wallpapers | sort -R | head -1)"

# config apps
for_window [instance="terminator" title="^terminal$"] resize shrink height 40 px or 40 ppt;
for_window [class="VirtualBox Machine"] border pixel 0;
for_window [class="Yad"] floating enable;
for_window [class="Eog"] border pixel 1, floating enable;
for_window [class="Google-chrome"] border none;
for_window [class="Firefox" window_role="browser"] border none;
for_window [class="Firefox" instance="Dialog"] border pixel 1;
for_window [class="Firefox" instance="Places"] border pixel 1;
for_window [class="Pavucontrol"] floating enable, border pixel 1;
for_window [class="Gnome-system-monitor"] floating enable, border pixel 1;
for_window [class="^jetbrains-.+"][window_type=dialog] focus
for_window [instance="sun-awt-X11-XWindowPeer"] border pixel 0
for_window [class="Simplenote"] border pixel 0;
for_window [class="vlc"] move scratchpad;
for_window [class="WebTorrent"] move scratchpad;

# for_window [instance="terminator" title="^terminal$"] border pixel 1, floating enable, move scratchpad, scratchpad show;
# for_window [class="File-roller"] border pixel 1, floating enable;
# for_window [instance="sun-awt-X11-XFramePeer"] border pixel 0
# for_window [class="Gnome-font-viewer"] border pixel 1, floating enable;
# for_window [class="Exfalso"] floating enable, border normal;
# for_window [class="PdWindow"] floating enable, border normal;
# for_window [class="PatchWindow"] floating enable, border normal;
# for_window [class="Lxappearance"] floating enable, border normal;
# for_window [class="Bleachbit"] floating enable, border normal;
# for_window [class="Processing"] floating enable, border pixel 1;
# for_window [class="Anki"] floating enable, border normal;
# for_window [class="Sublime_text"] border normal;
# for_window [class="Gucharmap"] floating enable;
# for_window [class="Thunar"] floating enable, border normal;
# for_window [class="Audacity"] border normal;